DÜĞÜM (NODE) OLUŞTURMA VE TEMEL KAVRAMLAR

1. PAKET OLUŞTURMA VE YAPILANDIRMA
----------------------------------
ROS 2'de Python tabanlı bir paket oluşturmak için standart komut yapısı:

    ros2 pkg create simple_py_pkg --build-type ament_python --dependencies rclpy

- --build-type ament_python: Paketin Python ile derleneceğini belirtir.
- --dependencies rclpy: rclpy (ROS Client Library for Python) kütüphanesini bağımlılık olarak ekler.

Önemli Dosyalar:
- setup.py & package.xml: Paket hakkındaki bilgileri (metadata), bağımlılıkları ve kodun çalıştırılması için gereken giriş noktalarını (entry points) içerir.
- setuptools: Python paketlerinin dağıtımı için gereklidir.
  Kontrol komutu: pip3 list | grep setuptools

2. NODE (DÜĞÜM) NEDİR?
----------------------
Her bir Node (düğüm), robotik sistemde tek bir görevden sorumludur.

- İşlevi: Motorları kontrol edebilir, Lidar verisini işleyebilir veya kameradan görüntü alabilir.
- Haberleşme: Aynı veya farklı paketlerdeki diğer node'larla veri alışverişi yapabilir.
- Yazılım Mimarisi: Düğümler, kodun yönetilebilir olması için Nesne Yönelimli Programlama (OOP) kullanılarak, yani Class (Sınıf) yapısı ile oluşturulmalıdır.

3. DERLEME (BUILD) VE ORTAM KURULUMU
------------------------------------
Bir paket veya kod değiştiğinde çalışma alanının (workspace) derlenmesi gerekir.

Temel Derleme:
Sadece üzerinde çalıştığımız paketi derlemek zaman kazandırır:
    colcon build --packages-select simple_py_pkg

Geliştirici Modu (Symlink) ile Derleme:
Python dosyalarında yapılan değişikliklerde sürekli derleme yapmamak için sembolik bağ (symlink) kullanılır:
    colcon build --packages-select simple_py_pkg --symlink-install

Source (Kaynak) Sorunu ve Çözümü:
Derleme sonrası "source install/setup.bash" yapılmazsa ROS 2 paketi göremez. Her terminal açılışında bunu otomatikleştirmek için kalıcı çözüm:
    echo "source ~/ARTEK/ROS2/ros2_ws/install/setup.bash" >> ~/.bashrc
    source ~/.bashrc

4. NODE ÇALIŞTIRMA VE KOMUT SATIRI İŞLEMLERİ
--------------------------------------------
Oluşturulan node'u çalıştırmak için:
    ros2 run simple_py_pkg counter_node

Node Bilgilerini Görme:
- ros2 node list: Şu an aktif olan (çalışan) node'ları listeler.
- ros2 node info /counter_node: Belirtilen node hakkındaki yayıncı (publisher), abone (subscriber) ve servis bilgilerini gösterir. (Node çalışıyor olmalıdır)

Node İsmi Değiştirme (Remapping):
Aynı koddan birden fazla node çalıştırmak istendiğinde isim çakışmasını önlemek için çalışma anında isim değiştirilebilir:
    ros2 run simple_py_pkg counter_node --ros-args --remap __node:=yeni_node_ismi

5. ANALİZ VE SİMÜLASYON ARAÇLARI
--------------------------------
RQT (Görsel Analiz):
Terminalden "rqt" yazılarak açılan GUI ile node'ların bağlantıları ve sistemin genel durumu görsel olarak analiz edilebilir.

Turtlesim (Örnek Uygulama):
Basit kaplumbağa simülatörü.

- Kurulum:
    sudo apt install ros-humble-turtlesim

- Simülasyonu Başlatma:
    ros2 run turtlesim turtlesim_node

- Klavye Kontrolü (Teleop):
    (Farklı bir terminalde)
    ros2 run turtlesim turtle_teleop_key